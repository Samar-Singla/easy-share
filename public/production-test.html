<!DOCTYPE html>
<html>
<head>
    <title>Production WebSocket Test</title>
</head>
<body>
    <h1>Production WebSocket Connection Test</h1>
    <button onclick="testWebSocket()">Test Production WebSocket</button>
    <div id="output"></div>

    <script>
        function testWebSocket() {
            const output = document.getElementById('output');
            output.innerHTML = 'Testing production WebSocket connection...';
            
            try {
                console.log('Attempting WebSocket connection to: wss://EasyShare-signaling.2006samarsing.workers.dev?name=production-test');
                const ws = new WebSocket('wss://EasyShare-signaling.2006samarsing.workers.dev?name=production-test');
                
                ws.onopen = () => {
                    console.log('‚úÖ Production WebSocket connected successfully');
                    output.innerHTML += '<br>‚úÖ Production WebSocket connected successfully';
                    ws.close();
                };
                
                ws.onerror = (error) => {
                    console.error('‚ùå Production WebSocket error:', error);
                    output.innerHTML += '<br>‚ùå Production WebSocket error: ' + error;
                };
                
                ws.onclose = () => {
                    console.log('üîå Production WebSocket connection closed');
                    output.innerHTML += '<br>üîå Production WebSocket connection closed';
                };
                
                ws.onmessage = (event) => {
                    console.log('üì® Received message:', event.data);
                    output.innerHTML += '<br>üì® Received: ' + event.data;
                };
                
                // Timeout after 5 seconds
                setTimeout(() => {
                    if (ws.readyState === WebSocket.CONNECTING) {
                        console.error('‚è∞ Production WebSocket connection timeout');
                        output.innerHTML += '<br>‚è∞ Production WebSocket connection timeout';
                        ws.close();
                    }
                }, 5000);
                
            } catch (error) {
                console.error('‚ùå Error creating WebSocket:', error);
                output.innerHTML += '<br>‚ùå Error creating WebSocket: ' + error.message;
            }
        }
    </script>
</body>
</html>
